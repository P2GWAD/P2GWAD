{% extends 'P2G/base.html' %}
{% load staticfiles %}

{% block title_block %}
    Other PLayers
{% endblock %}

{% block body_block %}
    <div class="jumbotron p-4">
        <div class="container">
            <h1 class="jumbotron-heading">Other Players</h1>
        </div>
    </div>

    <input type="search"
           id="search-other-players"
           class="form-control ds-input"
           placeholder="Search for other Players..."
           data-user-id="{{ user.id }}"/>

    <div id="others-listing">
        <div class="container">
            <div class="row">
                {% if user_profile_list %}
                    <div class="panel-body">
                        <div class="list-group">
                            {% for list_user in user_profile_list %}
                                {% if user.id != list_user.user.id %}
                                    <div class="list-group-item">
                                        <h4 class="list-group-item-heading">
                                            <img src="{{ MEDIA_URL }}{{ list_user.profile_image }}"
                                                 width="64"
                                                 height="64"
                                                 alt="src='https://lorempixel.com/64/64/people/"/>
                                            <a href="{% url 'P2G:account' list_user.user.username %}">
                                                {{ list_user.user.username }}
                                            </a>
                                        {% if list_user in friends %}
                                            <input class="btn"
                                               type="button"
                                               value="Your Friend"
                                               style="float: right; margin: 10px;">
                                        {% else %}
                                        <input class="btn btn-primary P2G-add-friend"
                                               type="button"
                                               value="Add to Friends"
                                               style="float: right; margin: 10px;"
                                               data-friend-id="{{ list_user.user.id }}"
                                               data-user-id="{{ user.id }}">
                                        {% endif %}
                                        </h4>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                {% else %}
                    <p>There are no users on P2G.</p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}